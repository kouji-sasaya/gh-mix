# gh-mix

gh extension のプログラミングの多言語対応、ＯＳのマルチプラットフォームができるか実験しています。

言語は、c、cpp、rust を使います。　※他は、勉強していきます。rust は、将来に向け、必要なので、作っています。

ビルドシステムは、CMakeを使っています。

理由は、とても美しいビルドシステムで、高速で、個人的に、大好きだからです。

CMake の Cは、C言語じゃないからね。 Cross プラットフォームの、Cだからね。知らんけど。


## フォルダレイアウトルール

CMake を研究した結果、以下のルールで作ると、とても保守性が高くなります。

試してみて下さい。

- 最上位のCMakeLists.txt
- つなぎ役のCMakeLists.txt。ここには、add_subdirectory()しかありません。
- ターゲットのCMakeLists.txt
- CMakeのターゲットと、実行ファイル名と、フォルダは、一致させるといいです。
- 最上位に、ソースは置かないこと。
- 第２階層は、分類のフォルダを作るといいです。
- 第３階層は、ターゲットのフォルダを作るといいです。

## 環境構築

- cmake
- gcc
- rust


## gh-sasaya のビルド方法


1. プロジェクトルートディレクトリに移動します。

   ```bash
   cd gh-mix
   ```

2. ビルドを実行します。

  cmake で、build ディレクトリを作成（cmakeに任せます）して、make します。


   ```bash
   cmake -S . -B build
   make all -j8
   ```

3. ビルド後のバイナリは `target/release/gh-sasaya` に生成されます。

以上をリポジトリに反映し、`gh` 拡張として利用してください。

## gh コマンドのインストール方法

gh 拡張機能を利用するため、gh コマンドが必要です。 gh コマンドが存在しない場合は、以下のいずれかの方法でインストールしてください:

### apt を利用する場合:
```bash
sudo apt install gh
```

